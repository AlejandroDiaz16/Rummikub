<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

</body>
<script type="text/javascript">
	     //notar el protocolo.. es 'ws' y no 'http'
            var wsUri = "ws://localhost:30001";
            var websocket = new WebSocket(wsUri); //creamos el socket
            websocket.onopen = function(evt) { //manejamos los eventos...
                console.log("Conectado..."); //... y aparecer√° en la pantalla
            };
            websocket.onmessage = function(evt) { // cuando se recibe un mensaje
            	console.log("Mensaje recibido:" + evt.data);
            };
            websocket.onerror = function(evt) {
            	console.log("oho!.. error:" + evt.data);
            };
 
 
            function enviarMensaje(texto) {
            	a={
            		type:'message',
            		message:texto
            	};
            	var mes=JSON.stringify(a);
                websocket.send(mes);
                console.log("Enviando:" + texto);
            }
            

 
</script>
</html>